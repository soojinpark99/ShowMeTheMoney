<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Show me the Money</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    .layout {
      width: 430px;
      height: 926px;
      margin: 50px auto;
      padding: 15px;
      background-color: #fafaf9;
      position: relative;
    }

    .calendar {
      width: 400px;
      margin: 10px auto;

      display: grid;
      grid-template-columns: repeat(7, 1fr);
    }

    .calendar-header {
      display: flex;
      justify-content: center;
    }

    .total-div > div {
      margin-bottom: 5px;
    }

    .day {
      text-align: center;
      margin-bottom: 10px;
    }
    .date,
    .empty {
      aspect-ratio: 1;
    }

    .date {
      cursor: pointer;
    }

    .date:hover {
      background-color: #e6e6e6;
    }

    .write-btn {
      display: flex;
      justify-content: center;
      align-items: center;
      position: absolute;
      right: 20px;
      bottom: 20px;

      background-color: black;
      color: white;
      width: 50px;
      height: 50px;
      border-radius: 25px;
      cursor: pointer;
    }
  </style>
  <body>
    <div class="layout">
      <div class="calendar-container">
        <div class="calendar-header">
          <button id="prevBtn">이전</button>
          <h2 id="currentMonth"></h2>
          <button id="nextBtn">다음</button>
        </div>
        <div class="total-div">
          <div class="income">수입</div>
          <div class="expense">지출</div>
          <div class="total">합계</div>
        </div>
        <div class="calendar days">
          <div class="day">일</div>
          <div class="day">월</div>
          <div class="day">화</div>
          <div class="day">수</div>
          <div class="day">목</div>
          <div class="day">금</div>
          <div class="day">토</div>
        </div>
        <div class="calendar dates" id="calendarDates"></div>
      </div>
      <a class="write-btn" href="./write.html">글쓰기</a>
    </div>
    <script>
      // 달력 동적 생성
      function renderCalendar() {
        const calendarDates = document.getElementById("calendarDates");
        const currentMonthElement = document.getElementById("currentMonth");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        const today = new Date();
        let currentMonth = today.getMonth();
        let currentYear = today.getFullYear();

        function renderDates() {
          const firstDayOfMonth = new Date(currentYear, currentMonth, 1);
          const daysInMonth = new Date(
            currentYear,
            currentMonth + 1,
            0
          ).getDate();

          const startDayOfWeek = firstDayOfMonth.getDay();

          currentMonthElement.textContent = `${currentYear}년 ${
            currentMonth + 1
          }월`;

          calendarDates.innerHTML = "";

          for (let i = 0; i < startDayOfWeek; i++) {
            const emptyDate = document.createElement("div");
            emptyDate.classList.add("empty");
            calendarDates.appendChild(emptyDate);
          }

          for (let i = 1; i <= daysInMonth; i++) {
            const dateElement = document.createElement("div");
            dateElement.classList.add("date");
            dateElement.textContent = i;
            calendarDates.appendChild(dateElement);
          }
        }

        renderDates();

        prevBtn.addEventListener("click", () => {
          currentMonth--;
          if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
          }
          renderDates();
        });

        nextBtn.addEventListener("click", () => {
          currentMonth++;
          if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
          }
          renderDates();
        });
      }

      renderCalendar();
    </script>
  </body>
</html>
